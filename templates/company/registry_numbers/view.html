{% extends 'base.html' %}

{% block title %}
{{ last_name|capitalize }} {{ name|capitalize }} {{ patronymic|capitalize }} | –ù–æ–º–µ—Ä–∞ –≥–æ—Å. —Ä–µ–µ—Å—Ç—Ä–∞
{% endblock %}

{% block content %}
<link rel="stylesheet" type="text/css" href="/static/company/registry_numbers/css/view.css" />

<h1 class="fs-xl text-center d-flex flex-column align-items-center mb-4">
  {% if company_image %}
  <div class="photo mb-3">
    <img src="data:image/jpeg;base64,{{ company_image }}" alt="–õ–æ–≥–æ—Ç–∏–ø {{ company_name }}">
  </div>
  {% endif %}
  <div class="btn-group mb-3">
    <a href="/companies/company?company_id={{company_id}}" class="btn btn-outline-dark label-text fw-bold"
      style="border-width: 3px;">üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
  </div>
  –ù–æ–º–µ—Ä–∞ –≥–æ—Å. —Ä–µ–µ—Å—Ç—Ä–∞
</h1>

<div class="mb-4 d-flex justify-content-center">
  <div class="input-group" style="flex-basis:60%;">
    <input id="search-input" class="form-control input-text" style="font-size: var(--font-base);"
      placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–æ–º–µ—Ä—É, —Ç–∏–ø—É –°–ò, –ú–ü–ò">
  </div>
</div>

<div class="d-flex justify-content-center mb-3">
  <div class="d-flex gap-2 flex-wrap justify-content-center align-items-stretch w-100">

    <!-- –§–æ—Ä–º–∞ –∑–∞–≥—Ä—É–∑–∫–∏: 2 –±–ª–æ–∫–∞ (50% –∏ 20%) -->
    <form action="/companies/api/files-control/upload?company_id={{company_id}}" method="post"
      enctype="multipart/form-data" style="display: contents;">
      <!-- 50%: input -->
      <div style="flex:0 0 40%;">
        <input type="file" name="file" class="form-control input-text" style="font-size: var(--font-base);" required>
      </div>

      <!-- 20%: submit -->
      <div style="flex:0 0 15%;">
        <button class="btn btn-outline-primary fw-bold label-text w-100" style="border-width: 3px;">
          ‚§¥Ô∏è <span class="btn-text">–ó–∞–≥—Ä—É–∑–∏—Ç—å Excel</span>
        </button>
      </div>
    </form>

    <form action="/companies/api/files-control/download?company_id={{company_id}}" method="get" style="flex:0 0 15%;">
      <button class="btn btn-outline-success fw-bold label-text w-100" style="border-width: 3px;">
        ‚§µÔ∏è <span class="btn-text">–°–∫–∞—á–∞—Ç—å Excel</span>
      </button>
    </form>
  </div>
</div>


<div class="d-flex justify-content-center mb-3">
  <a id="create-btn" href="/companies/registry-numbers/create?company_id={{company_id}}"
    class="btn btn-outline-primary fw-bold label-text" style="flex-basis:50%; border-width: 3px;">‚ûï –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π
    –Ω–æ–º–µ—Ä</a>
</div>

<div id="registry-list" class="row mb-5"></div>

<nav aria-label="–ù–∞–≤–∏–≥–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü">
  <ul id="pagination" class="pagination justify-content-center"></ul>
</nav>

<script>
  window.companyId = {{ company_id }};
</script>

<script type="module" src="/static/company/registry_numbers/js/view.js"></script>

{% endblock %}