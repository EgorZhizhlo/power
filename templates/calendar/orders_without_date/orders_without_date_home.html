{% extends 'base.html' %}
{% block title %}Заявки без даты{% endblock %}

{% block content %}
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css"
/>
<link rel="stylesheet" href="/static/calendar/orders_without_date/css/orders_without_date_css.css">

<div class="container-fluid">
  <div class="card orders-card">
    <div class="card-header">
      <h5 class="mb-0 fs-4"><b>{{ title_name }}</b></h5>
    </div>
    <div class="card-body">
      <div class="row g-3 mb-4">
        <div class="col-md-4">
          <label class="filter-label" for="route-filter">Маршрут</label>
          <select id="route-filter" class="form-select">
            <option value="">Все маршруты</option>
          </select>
        </div>
        <div class="col-md-4">
          <label class="filter-label" for="status-filter">Статус</label>
          <select id="status-filter" class="form-select">
            <option value="">Все статусы</option>
            <option value="true">Принято</option>
            <option value="false">Ожидает согласование</option>
          </select>
        </div>
        <div class="col-md-2">
          <label class="filter-label" for="page-size">На странице</label>
          <select id="page-size" class="form-select">
            <option value="30">30</option>
            <option value="50">50</option>
            <option value="100">100</option>
          </select>
        </div>
        <div class="col-md-2 d-flex align-items-end">
          <button id="refresh-btn" class="btn btn-outline-primary w-100 fw-bold" style="border-width: 3px;">
            <i class="bi bi-arrow-repeat"></i> Обновить
          </button>
        </div>
      </div>

      <div class="table-responsive">
        <div id="spinner" class="spinner-overlay d-none">
          <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Загрузка...</span>
          </div>
        </div>
        <table class="table table-striped table-hover align-middle mb-0">
          <thead class="table-light">
            <tr>
              <th>Адрес</th>
              <th>Город</th>
              <th>Телефон</th>
              <th>Доп. инфо</th>
              <th>Дата принятия</th>
              <th>Статус</th>
            </tr>
          </thead>
          <tbody id="table-body"></tbody>
        </table>
      </div>

      <nav aria-label="Page navigation" class="mt-4">
        <ul class="pagination justify-content-center" id="pagination-ul"></ul>
      </nav>
    </div>
  </div>
</div>


{% include '/orders_without_date/modals/orders_without_date_detail.html' %}
{% include '/orders_without_date/modals/orders_without_date_edit.html' %}
{% include '/orders_without_date/modals/orders_without_date_delete.html' %}

<script>
  window.currentCompanyId = {{ company_id | tojson }};
  window.companyCalendarParams = {{ company_calendar_params | tojson }};
</script>

<!-- Скрипты -->
<script type="module" src="/static/calendar/orders_without_date/js/orders_without_date_script.js"></script>

{% endblock %}
