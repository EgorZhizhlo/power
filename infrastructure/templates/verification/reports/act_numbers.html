{% extends "base.html" %}
{% block title %}
{{title_name}}
{% endblock %}
{% block content %}
<link rel="stylesheet" href="/static/verification/reports/css/act_numbers.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">

<div class="report-container">
  <div class="report-header">
    <h1>{{title_name}}</h1>
  </div>

  <div class="report-actions">
    <a href="/verification/?company_id={{company_id}}"
       class="btn-home">
      üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é
    </a>
  </div>

  <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ -->
  <div id="loading-indicator" style="display: none; text-align: center; margin: 2rem 0;">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
    </div>
    <p class="mt-2">–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–∞...</p>
  </div>

  <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ -->
  <div id="error-message" class="alert alert-danger" style="display: none; margin: 1rem auto; max-width: 80%;" role="alert">
  </div>

  <form id="act-number-form" class="report-filter">
    <div class="row">
      <div class="col-md-4 mb-3">
        <label for="act_number_from" class="form-label">–ù–æ–º–µ—Ä–∞ –±–ª–∞–Ω–∫–æ–≤ —Å</label>
        <input
          type="number"
          id="act_number_from"
          name="act_number_from"
          class="form-control"
          placeholder="–ù–∞—á–∞–ª–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞"
          required />
      </div>

      <div class="col-md-4 mb-3">
        <label for="act_number_to" class="form-label">–ü–æ</label>
        <input 
          type="number" 
          id="act_number_to" 
          name="act_number_to"
          class="form-control"
          placeholder="–ö–æ–Ω–µ—Ü –¥–∏–∞–ø–∞–∑–æ–Ω–∞"
          required />
      </div>

      <div class="col-md-4 mb-3">
        <label for="series_id" class="form-label">–°–µ—Ä–∏—è –±–ª–∞–Ω–∫–∞</label>
        <select
          id="series_id"
          name="series_id"
          class="form-control">
          <option value="">–í—Å–µ —Å–µ—Ä–∏–∏</option>
          {% if series %}
            {% for s in series %}
              <option value="{{s.id}}">{{s.name}}</option>
            {% endfor %}
          {% endif %}
        </select>
      </div>
    </div>
    
    <div class="d-flex justify-content-end gap-3 mt-3">
      <button type="submit" class="btn btn-primary">–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç</button>
      <button type="button" id="reset-form" class="btn btn-outline-primary">
        –°–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä
      </button>
    </div>
  </form>

  <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ -->
  <div class="alert alert-info" style="margin: 1.5rem auto; max-width: 80%; border-radius: 1rem; border: 2px solid #0dcaf0;">
    <i class="bi bi-info-circle-fill me-2"></i>
    <strong>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:</strong> –û—Ç—á–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –Ω–æ–º–µ—Ä–∞ –∞–∫—Ç–æ–≤ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ.
    –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª—è –≤—ã—à–µ –∏ –Ω–∞–∂–º–∏—Ç–µ "–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç" –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è Excel —Ñ–∞–π–ª–∞.
  </div>
</div>

<script>
  window.company_id = {{ company_id }};
</script>

<!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º JavaScript –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–æ—Ä–º—ã -->
<script src="/static/verification/reports/js/act_numbers.js"></script>
{% endblock %}