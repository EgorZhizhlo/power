{% extends 'base.html' %}

{% block title %}
{{ last_name|capitalize }} {{ name|capitalize }} {{ patronymic|capitalize }} | –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ
{% endblock %}

{% block content %}
<link rel="stylesheet" type="text/css" href="/static/company/equipments/css/view.css" />

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@2.8.2/css/lightgallery-bundle.min.css">
<script src="https://cdn.jsdelivr.net/npm/lightgallery@2.8.2/lightgallery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lightgallery@2.8.2/plugins/zoom/lg-zoom.min.js"></script>

<h1 class="fs-xl d-flex flex-column align-items-center mb-4">
  {% if company_image %}
  <div class="photo mb-3">
    <img src="data:image/jpeg;base64,{{ company_image }}" alt="–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏: {{ company_name }}">
  </div>
  {% endif %}

  <div class="btn-group mb-3">
    <a href="/companies/company?company_id={{company_id}}" class="btn btn-outline-dark label-text fw-bold"
      style="border-width: 3px;">üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
  </div>
  –ö–∞—Ä—Ç–æ—á–∫–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
</h1>

<!-- –§–∏–ª—å—Ç—Ä—ã -->
<div class="card p-3 mb-3 filters">
  <div class="row g-2 align-items-end">
    <div class="col">
      <label class="form-label label-text">–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ</label>
      <input id="flt-name" type="text" class="form-control input-text" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ / –ø–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ">
    </div>
    <div class="col">
      <label class="form-label label-text">–ó–∞–≤ ‚Ññ</label>
      <input id="flt-factory" type="text" class="form-control input-text" placeholder="–ó–∞–≤–æ–¥—Å–∫–æ–π –Ω–æ–º–µ—Ä">
    </div>
    <div class="col">
      <label class="form-label label-text">–ò–Ω–≤ ‚Ññ</label>
      <input id="flt-inventory" type="text" class="form-control input-text" placeholder="–ò–Ω–≤–µ–Ω—Ç–∞—Ä–Ω—ã–π –Ω–æ–º–µ—Ä">
    </div>
    <div class="col">
      <label class="form-label label-text">‚Ññ –ì–æ—Å—Ä–µ–µ—Å—Ç—Ä–∞</label>
      <input id="flt-register" type="text" class="form-control input-text" placeholder="‚Ññ —Ä–µ–µ—Å—Ç—Ä–∞">
    </div>
    <div class="col">
      <label class="form-label label-text">–î–∞—Ç–∞ –ø–æ–≤–µ—Ä–∫–∏ (–æ—Ç)</label>
      <input id="flt-verif-from" type="date" class="form-control input-text">
    </div>
    <div class="col">
      <label class="form-label label-text">–î–∞—Ç–∞ –ø–æ–≤–µ—Ä–∫–∏ (–¥–æ)</label>
      <input id="flt-verif-to" type="date" class="form-control input-text">
    </div>
    <div class="col">
      <label class="form-label label-text">–°—Ç–∞—Ç—É—Å</label>
      <select id="flt-status" class="form-select input-text">
        <option value="all" selected>–í—Å–µ</option>
        <option value="active">–ê–∫—Ç–∏–≤–Ω—ã–µ</option>
        <option value="deleted">–£–¥–∞–ª—ë–Ω–Ω—ã–µ</option>
      </select>
    </div>
    <div class="col-auto">
      <button id="btn-reset" class="btn btn-outline-secondary fw-bold" style="border-width: 3px;">–°–±—Ä–æ—Å–∏—Ç—å</button>
    </div>
  </div>
</div>

<!-- –ö–Ω–æ–ø–∫–∏ -->
<div class="d-flex justify-content-center mb-1">
  <div class="d-flex gap-2 justify-content-center mb-1 w-100">
    <a id="create-btn" href="/companies/equipments/create?company_id={{company_id}}"
      class="btn btn-outline-primary label-text fw-bold d-flex align-items-center justify-content-center"
      style="flex-basis:50%; border-width: 3px;">
      ‚ûï –î–æ–±–∞–≤–∏—Ç—å –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ
    </a>
    <button class="btn btn-outline-info fw-bold d-flex align-items-center justify-content-center"
      style="flex-basis:25%; border-width: 3px;" data-bs-toggle="modal" data-bs-target="#activitiesModal">
      üìè –í–∏–¥—ã –∏–∑–º–µ—Ä–µ–Ω–∏–π
    </button>
    <button class="btn btn-outline-success fw-bold d-flex align-items-center justify-content-center"
      style="flex-basis:25%; border-width: 3px;" data-bs-toggle="modal" data-bs-target="#siTypesModal">
      üõ†Ô∏è –¢–∏–ø—ã –°–ò
    </button>
  </div>
</div>
<div class="d-flex justify-content-center mb-4">
  <div class="d-flex gap-2 justify-content-center mb-3 w-100">
    <a class="btn btn-outline-danger label-text fw-bold d-flex align-items-center justify-content-center"
      style="flex-basis:50%; border-width: 3px;">
      üìñ –ñ—É—Ä–Ω–∞–ª –≤—ã–¥–∞—á–∏
    </a>
    <a class="btn btn-outline-warning fw-bold d-flex align-items-center justify-content-center"
      style="flex-basis:50%; border-width: 3px;"
      href="/companies/api/equipments/form2/export?company_id={{company_id}}">
      üìù –§–æ—Ä–º–∞ 2
    </a>
  </div>
</div>

{% include 'equipments/modals.html' %}

<div id="equipment-list" class="row mb-5"></div>

<nav aria-label="–ù–∞–≤–∏–≥–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü">
  <ul id="pagination" class="pagination justify-content-center"></ul>
</nav>

<script>
  window.companyId = {{ company_id }};
</script>

<script type="module" src="/static/company/equipments/js/view.js"></script>
<script type="module" src="/static/company/equipments/js/activity.js"></script>
<script type="module" src="/static/company/equipments/js/si_type.js"></script>

{% endblock %}